[0051]When multiple overwriting is simply performed on the evaluation pattern (or when patterns are written without shifts of a deflection field), it is possible that the evaluation can be performed with a larger dimensional difference between the patterns due to the difference between the timings for applying voltage to the sub deflector. This results from the fact that the difference between the sizes of the patterns is increased since the time for one irradiation is reduced based on the number of times of the overwriting and the difference between the effective irradiation times is increased due to the difference between the timings. In the present embodiment, the multiple overwriting is performed four times to increase the difference between the sizes of the patterns and thereby obtain accurate timing.
[0052]The present invention is not limited to the abovementioned embodiment and may be modified without departing from the spirit and scope of the present invention. For example, although the electron beam is used in the abovementioned embodiment, the present invention is not limited to the electron beam. The present invention is applicable to the case where another charged-particle beam such as an ion beam is used.
[0053]In the present embodiment, the timing for applying voltage to the sub deflector is determined from the timing range corresponding to the predetermined allowable range of the difference between a predetermined line width and a line width of a pattern written immediately before the position of the spot of the electron beam on a sample is changed by a relatively large distance. The present invention, however, is not limited to the above. For example, the following operations may be performed: line widths of all patterns, each of which is written after the timing for applying voltage to the sub deflector is changed, are measured; the average of the measured line widths is compared with each of the measured line widths of the patterns; and appropriate timing for applying voltage to the sub deflector is determined based on a predetermined allowable range of the differences between a target line width and the measured line widths. According to this method, it seems that an impact on a pattern due to an excessively long time from the time when the blanking control signal starts to be input to the blanking deflector to the start time for applying voltage to the sub deflector is easily understood.
[0054]The features and advantages of the present invention may be summarized as follows.
[0055]According to a first aspect of the present invention, timing control means is provided to control the timing for applying a voltage to a sub deflector when changing the position to be irradiated with the charged particle beam. Therefore, a reduction in accuracy of writing can be suppressed, while the throughput can be improved.