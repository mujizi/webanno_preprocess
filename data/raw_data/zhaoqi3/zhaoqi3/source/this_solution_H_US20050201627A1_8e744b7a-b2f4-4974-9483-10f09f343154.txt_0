[0029] The motion compensation block 230 receives the motion vector from the motion compensation block 230 and the reference MB from the buffer 222 in order to generate a new predictive MB from the reference MB, i.e., a predictive version of the current Inter-MB. When Inter-MB coding takes place, the reference MB should be updated. Hence, the switch 240 is "on," so that the predictive MB is added by summing element 220 to the decoded residual MB that is output from the decoding portion 210. The result is stored as a new reference MB in buffer 222.
[0030] The predictive MB from the motion compensation block 230 is subtracted from the current Inter-MB by subtraction element 224 in order to form a residual MB. The residual MB is then processed as described above for Intra-MB encoding. The quantized, transformed residual MB is further passed through the decoding portion 210 so that the residual MB may be used by the video codec to update the reference MB stored in the buffer 222, which in turn may be accessed by the motion compensation block 230 and motion estimation block 232 for encoding MBs of future or past frames. Note that predictive coding techniques may be bidirectional, in that past information may be used to predict the current frame or future information may be used to predict the current frame.
[0031] The encoding of the Intra-MBs may also use spatial prediction. The encoding of the Inter-MBs employs temporal prediction. The problem with the conventional video codec design of FIG. 2 is that nonpredictive coding consumes too many memory resources and predictive coding consumes too many processing resources. If one of skill in the art decided that lowering the MIPS requirement is needed to perform other tasks, then increasing the number of I-frames or Intra-MBs is a possible solution, which is implemented by decreasing the intra-period value N. However, this solution is flawed because the demand for memory resources would correspondingly increase. Moreover, the overall transmission rate of the video images over a communication channel would increase since more bits are needed to convey spatial information as compared to predictive information. For wireless applications, such as video streaming over cellular phones, the increased transmission bits could result in a degraded synthesized image signal if the wireless or landline communication channel cannot accommodate the increased transmission bit rate.
[0032] Conversely, if one of skill in the art decided that memory resources were limited, then one solution is to perform more temporally predictive encoding, which is implemented by increasing the intra-period value N. However, temporally predictive encoding requires more cycles from the processing elements which, if loaded past a maximum threshold, will drop frame processing tasks for tasks with higher priorities. Dropped frames would then degrade the quality of the synthesized image. In addition, the quality of the synthesized signal would also degrade whenever high speed activities occur within the images because the use of too many predictively encoded frames could cause a failure in the motion estimation ability of the video codec.
[0033] Hence, an important consideration in the operation of video codecs is the design for determining whether a P-frame MB should be coded as an Intra-MB or an Inter-MB, in addition to making a best prediction mode determination between macroblock size choices. In H.264, for example, nine coding modes for the 4.times.4 block size and four coding modes for the 16.times.16 MB exist for Intra-coding. For Inter-MBs, an important consideration in some advanced codecs, such as H.264, is also to make a best prediction mode determination between MB size choices. H.264, for example, supports four coding types, including block sizes of 16.times.16, 16.times.8, 8.times.16, and 8.times.8 for Inter-MBs.