[0134] The dielectric insensitive module 280 uses process of elimination to eliminate dielectric-constant-sensitivity for at least one layer. For example, if the probe length is known, and it is known that the top layer within the tank is air having dielectric constant=1.0, then by carrying out TDR as described above with reference to FIGS. 1 through 3 to obtain an impedance-versus-time trace as shown in FIG. 4 for a single-liquid layer height profile 710 as shown in FIG. 5, it will be possible to accurately determine the height L1 of the air layer from the impedance-versus-time trace, and to subtract this from the known probe length L to obtain the liquid layer height L2. Here, the known layer module 282 would allow the dielectric constant of the known layer (for example, air having dielectric constant=1.0) to be set using the set module 284 if known in advance, or would allow the dielectric constant of that layer to be measured and thus become known for purposes of this known-unknown layer distinction using the measure module 286. For example, the measure module 286 might employ the impedance-based module 222 or the time-based module 224 to measure dielectric constant from the impedance-versus-time trace. The unknown layer module 288 derives the height of the layer having unknown dielectric constant from the known probe length and the measured height of the layer having known dielectric constant. Inasmuch as this method does not depend on TDR measurement of the liquid layer in the example of FIGS. 4 and 5, this method can be said to be insensitive to the dielectric constant of that liquid layer.
[0135] This basic technique can be used in iterative fashion to successively identify and measure multiple layers by process of elimination. For example, in situations such as that shown in FIG. 7 where a multiple-liquid layer height profile 810 produces an impedance-versus-time trace as shown in FIG. 6, liquid layer height L2 might be initially obtained as described above. Thereafter, this liquid layer height L2 might be resolved into a sublayer of liquid A having height L2A and a sublayer of liquid B having height L2B. If, for example, liquid B is known to be water having dielectric constant .di-elect cons.2B=80, this dielectric constant might be set for that known liquid B sublayer using the set module 284, scaling based on this known dielectric constant .di-elect cons.2B might be carried out using the convert module 226 to obtain a space domain length for the height L2B of the known liquid B sublayer, and the unknown layer module 288 might then derive the height L2A of the unknown liquid A sublayer from the previously determined liquid layer height L2 and the measured height L2B of the known liquid B sublayer.
[0136] Referring to FIG. 10, this is a flowchart illustrating this method in further detail. The method in the flowchart of FIG. 10 is described in specific terms based on the examples in which there is an air-liquid interface and there may in addition be one or more liquid-liquid interfaces. For example, the method described with reference to the flowchart of FIG. 10 may be employed for dielectric-constant-insensitive measurement of liquid layer height in the context of the example shown in FIGS. 4 and 5 in which there is a single-liquid layer height profile 710, or in the context of FIGS. 6 and 7 in which there is a multiple-liquid layer height profile 810. For purposes of description of the present flowchart, it will be assumed at FIGS. 4 through 7 that the dielectric constant of the top layer is known and is here taken to be that of air, having dielectric constant .di-elect cons.1=1.0.
[0137] At block 410, a transmission line containing a cable 120 and a TDR probe 110 as shown in FIG. 1 or FIG. 3 is scanned to obtain an impedance-versus-time trace as shown in FIG. 4 or FIG. 6, except that because sweep gain and offset have not yet been optimized, the trace obtained is not bounded to any particular region and will in general extend well beyond the probe top and the probe bottom.
[0138] At block 420, the probe top module 242 and the probe bottom module 244 respectively employ appropriate algorithms to detect and identify the transitions corresponding to the probe top and the probe bottom on the unbounded impedance-versus-time trace.