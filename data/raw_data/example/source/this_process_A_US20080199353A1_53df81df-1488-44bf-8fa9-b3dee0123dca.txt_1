[0109]After the PSS sanitizes selected surfaces (e.g., drug vial ports, IV bag ports and syringes) using an ultraviolet (UV) light, a fluid transfer operation may be performed. FIG. 12 shows an example of an apparatus 1200 for performing a fluid transfer operation. Exemplary aspects of a similar syringe manipulator apparatus are described, for example, with reference to FIG. 7 in U.S. patent application Ser. No. 11/937,846, entitled "Control of Fluid Transfer Operations," and filed by Doherty, et al. on Nov. 9, 2007, the entire contents of which are herein incorporated by reference. In some implementations, care should be taken during the fluid transfer operation to prevent a protective cover 1202 in the uncontrolled position from contaminating a selected surface (e.g., a needle 1204), or obstructing the insertion of the needle 1204 into a desired fluid port. The protective cover 1202 covers a first fluid transfer port 1206 of a container 1208. The container 1208 also includes a second fluid transfer port 1210. In one example, the fluid transfer operation is performed using the second fluid transfer port 1210 of the container 1208.
[0110]The container 1208 is held by a container manipulator 1212. The container manipulator 1212 can move in a horizontal and vertical direction to align a particular container and fluid transfer port with the needle 1204.
[0111]In an illustrative example, a draw from a vial may be performed as follows. First, the syringe plunger may be positioned to draw in a predetermined amount of air into the syringe barrel. This amount may be determined based on the required fluid volume of the prescription (first pull). The predetermined amount of air can replace the volume of fluid that is drawn with an approximately equal volume of air. So if 10 ml of fluid is being drawn, 10 ml of air can be pushed in to replace it. During this process, the system may estimate or monitor the `headspace` in the vial. In a preferred embodiment, the method may maintain a slight negative pressure in the vial.
[0112]Second, the syringe plunger can be actuated to draw a predetermined amount of fluid from the vial. In this case it can generate a negative pressure. This can be limited so that pull does not exceed a force limit (e.g., by limiting motor current to a threshold level.) Third, the syringe plunger can be actuated to push a volume of air into the vial to replace the volume of fluid removed. Fourth, the syringe plunger can be retracted again to an amount approximately equal to the amount of air pumped into the vial. Fifth, the cycle can continue until the required amount of fluid is drawn into the syringe from the vial. Sixth, at the end of the cycling, the volume in the syringe can substantially match the required draw amount, and there can be a slight negative pressure in the vial.
[0113]In an illustrative example, a draw from an IV bag may be performed as follows. The IV bag may hang by its fill port on the indexer of a needle down syringe manipulator station. The indexer then moves the IV bag to a position under a syringe needle. The IV bag port then engages the syringe needle. A syringe plunger may be withdrawn so that air is drawn out of the IV bag and into the syringe. The syringe plunger may be withdrawn until the change in torque, for example, is detected and, in some embodiments, for some additional time to give margin on the draw resulting in a small amount of fluid draw and/or an IV bag that is negatively pressurized relative to ambient pressure. The indexer then lowers the IV bag.