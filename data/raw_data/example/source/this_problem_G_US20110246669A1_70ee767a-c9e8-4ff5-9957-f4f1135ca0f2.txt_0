[0079] Upon receiving the VM-stoppable-stage notice 423 from the server 113, the manager program 151 or the DC manager 162 issues a start-of-buffering instruction 431 to the server 123, a changeover instruction 433 to the edge node 104, and a stop-of-VM instruction 441 to the server 113. The start-of-buffering instruction 431 indicates the start of packet buffering operation wherein packets to the VM 125 in the server 123 working as the second server are stored in the server 123 until the VM 125 is started.
[0080] In the sequence mentioned above, the start-of-buffering instruction 431 also indicates that addresses for the MV 125 should be generated. That is, for the VM 125, a MAC address and an IP address identical to those of the VM 114 are generated. At the time of generating a MAC address, an RARP message containing the MAC address concerned can be issued from the server 123. Alternatively, at the time of generating MAC and IP addresses, an ARP message containing the MAP and IP addresses concerned can be issued from the server 123. These messages are used to provide LAN-wide notification (broadcast) of these addresses. Further, the changeover instruction 433 indicates that the packet destination should be changed over to the VM 125 that has been provided as the result of migration.
[0081] The packet buffering operation in the server 123 is performed for the purpose of minimizing a rate of packet discarding attributable to VM migration. In a situation where plural VMs being migrated are included in the server 123, a buffer area is reserved for each VM so that buffering is performed for each VM. In a conventional VM migration method, a multiplicity of packets are discarded inevitably at the time of VM migration, thereby causing such a problem as stoppage of audio data/motion picture data in realtime applications. It is possible to address this problem by performing packet buffering.
[0082] In cases where packet discarding can be suppressed without resort to buffering, it is not required to perform buffering, i.e., it is not required to issue the start-of-buffering instruction 431. The start-of-buffering instruction 431 may also be issued from the server 113 instead of being issued from the manager program 151 or the DC manager 162. It is preferable, however, to issue the start-of-buffering instruction 432 from the manager program 151 as mentioned above since transmission timing with the changeover instruction 433 can be optimized.
[0083] In the first preferred embodiment of the present invention, the changeover instruction 433 is used to change the setting of the NAT 202 at the edge node 104. In the second preferred embodiment of the present invention, the changeover instruction 433 is used to perform a virtual network changeover. In changing the setting of the NAT 202, an alteration, deletion or addition is made on an existing rule registered in the NAT 202. Thus, a procedure is taken so that the existing rule in the NAT 202 will not be applied to addressing of a migrated VM. For example, in an instance where the existing rule is applied to a range of addresses 10.1.1.1-10.1.255.255 (i.e., the rule (2) indicated above) and where a migrated VM has an address 10.1.123.45, the existing rule is divided into two as shown below.