#FORMAT=WebAnno TSV 3.2


#Text=Here, a predetermined value is set in advance as the coefficient .alpha..
1-1	0-4	Here	
1-2	4-5	,	
1-3	6-7	a	
1-4	8-21	predetermined	
1-5	22-27	value	
1-6	28-30	is	
1-7	31-34	set	
1-8	35-37	in	
1-9	38-45	advance	
1-10	46-48	as	
1-11	49-52	the	
1-12	53-64	coefficient	
1-13	65-66	.	
1-14	66-71	alpha	
1-15	71-72	.	
1-16	72-73	.	

#Text=Further, as described above, a predetermined value is set in advance in the trigger minimum value data 130.
#Text=[0132] Next, the CPU 10 calculates a difference between the value of the trigger threshold value data 129 and the value of the trigger minimum value data 130 (a step S22).
2-1	74-81	Further	
2-2	81-82	,	
2-3	83-85	as	
2-4	86-95	described	
2-5	96-101	above	
2-6	101-102	,	
2-7	103-104	a	
2-8	105-118	predetermined	
2-9	119-124	value	
2-10	125-127	is	
2-11	128-131	set	
2-12	132-134	in	
2-13	135-142	advance	
2-14	143-145	in	
2-15	146-149	the	
2-16	150-157	trigger	
2-17	158-165	minimum	
2-18	166-171	value	
2-19	172-176	data	
2-20	177-180	130	
2-21	180-181	.	
2-22	182-183	[	
2-23	183-187	0132	
2-24	187-188	]	
2-25	189-193	Next	
2-26	193-194	,	
2-27	195-198	the	
2-28	199-202	CPU	
2-29	203-205	10	
2-30	206-216	calculates	
2-31	217-218	a	
2-32	219-229	difference	
2-33	230-237	between	
2-34	238-241	the	
2-35	242-247	value	
2-36	248-250	of	
2-37	251-254	the	
2-38	255-262	trigger	
2-39	263-272	threshold	
2-40	273-278	value	
2-41	279-283	data	
2-42	284-287	129	
2-43	288-291	and	
2-44	292-295	the	
2-45	296-301	value	
2-46	302-304	of	
2-47	305-308	the	
2-48	309-316	trigger	
2-49	317-324	minimum	
2-50	325-330	value	
2-51	331-335	data	
2-52	336-339	130	
2-53	340-341	(	
2-54	341-342	a	
2-55	343-347	step	
2-56	348-351	S22	
2-57	351-352	)	
2-58	352-353	.	

#Text=The calculated difference is used in later-described trigger threshold value update processing at a step S25.
#Text=[0133] Next, the CPU 10 executes difference acceleration calculation processing (a step S23).
3-1	354-357	The	
3-2	358-368	calculated	
3-3	369-379	difference	
3-4	380-382	is	
3-5	383-387	used	
3-6	388-390	in	
3-7	391-406	later-described	
3-8	407-414	trigger	
3-9	415-424	threshold	
3-10	425-430	value	
3-11	431-437	update	
3-12	438-448	processing	
3-13	449-451	at	
3-14	452-453	a	
3-15	454-458	step	
3-16	459-462	S25	
3-17	462-463	.	
3-18	464-465	[	
3-19	465-469	0133	
3-20	469-470	]	
3-21	471-475	Next	
3-22	475-476	,	
3-23	477-480	the	
3-24	481-484	CPU	
3-25	485-487	10	
3-26	488-496	executes	
3-27	497-507	difference	
3-28	508-520	acceleration	
3-29	521-532	calculation	
3-30	533-543	processing	
3-31	544-545	(	
3-32	545-546	a	
3-33	547-551	step	
3-34	552-555	S23	
3-35	555-556	)	
3-36	556-557	.	

#Text=In this processing, processing of eliminating a gravitational acceleration component from the acceleration obtained from the controller 7, and the like are executed.
4-1	558-560	In	
4-2	561-565	this	
4-3	566-576	processing	
4-4	576-577	,	
4-5	578-588	processing	
4-6	589-591	of	
4-7	592-603	eliminating	
4-8	604-605	a	
4-9	606-619	gravitational	
4-10	620-632	acceleration	
4-11	633-642	component	
4-12	643-647	from	
4-13	648-651	the	
4-14	652-664	acceleration	
4-15	665-673	obtained	
4-16	674-678	from	
4-17	679-682	the	
4-18	683-693	controller	
4-19	694-695	7	
4-20	695-696	,	
4-21	697-700	and	
4-22	701-704	the	
4-23	705-709	like	
4-24	710-713	are	
4-25	714-722	executed	
4-26	722-723	.	

#Text=FIG. 21 is a flow chart showing in detail the difference acceleration calculation processing shown at the step S23.
5-1	724-727	FIG	
5-2	727-728	.	
5-3	729-731	21	
5-4	732-734	is	
5-5	735-736	a	
5-6	737-741	flow	
5-7	742-747	chart	
5-8	748-755	showing	
5-9	756-758	in	
5-10	759-765	detail	
5-11	766-769	the	
5-12	770-780	difference	
5-13	781-793	acceleration	
5-14	794-805	calculation	
5-15	806-816	processing	
5-16	817-822	shown	
5-17	823-825	at	
5-18	826-829	the	
5-19	830-834	step	
5-20	835-838	S23	
5-21	838-839	.	

#Text=As shown in FIG. 21, the latest X-axis and Y-axis acceleration are obtained from the acceleration sensor 701 (a step S31).
#Text=[0134] Next, the CPU 10 obtains from the acceleration data 128 X-axis and Y-axis acceleration at four frames before.
6-1	840-842	As	
6-2	843-848	shown	
6-3	849-851	in	
6-4	852-855	FIG	
6-5	855-856	.	
6-6	857-859	21	
6-7	859-860	,	
6-8	861-864	the	
6-9	865-871	latest	
6-10	872-878	X-axis	
6-11	879-882	and	
6-12	883-889	Y-axis	
6-13	890-902	acceleration	
6-14	903-906	are	
6-15	907-915	obtained	
6-16	916-920	from	
6-17	921-924	the	
6-18	925-937	acceleration	
6-19	938-944	sensor	
6-20	945-948	701	
6-21	949-950	(	
6-22	950-951	a	
6-23	952-956	step	
6-24	957-960	S31	
6-25	960-961	)	
6-26	961-962	.	
6-27	963-964	[	
6-28	964-968	0134	
6-29	968-969	]	
6-30	970-974	Next	
6-31	974-975	,	
6-32	976-979	the	
6-33	980-983	CPU	
6-34	984-986	10	
6-35	987-994	obtains	
6-36	995-999	from	
6-37	1000-1003	the	
6-38	1004-1016	acceleration	
6-39	1017-1021	data	
6-40	1022-1025	128	
6-41	1026-1032	X-axis	
6-42	1033-1036	and	
6-43	1037-1043	Y-axis	
6-44	1044-1056	acceleration	
6-45	1057-1059	at	
6-46	1060-1064	four	
6-47	1065-1071	frames	
6-48	1072-1078	before	
6-49	1078-1079	.	

#Text=The CPU 10 calculates a difference between the acceleration at four frames before and the latest acceleration for each of X-axis and Y-axis (a step S32), thereby calculating acceleration in which the gravitational acceleration component is eliminated (to be precise, a change amount of acceleration).
7-1	1080-1083	The	
7-2	1084-1087	CPU	
7-3	1088-1090	10	
7-4	1091-1101	calculates	
7-5	1102-1103	a	
7-6	1104-1114	difference	
7-7	1115-1122	between	
7-8	1123-1126	the	
7-9	1127-1139	acceleration	
7-10	1140-1142	at	
7-11	1143-1147	four	
7-12	1148-1154	frames	
7-13	1155-1161	before	
7-14	1162-1165	and	
7-15	1166-1169	the	
7-16	1170-1176	latest	
7-17	1177-1189	acceleration	
7-18	1190-1193	for	
7-19	1194-1198	each	
7-20	1199-1201	of	
7-21	1202-1208	X-axis	
7-22	1209-1212	and	
7-23	1213-1219	Y-axis	
7-24	1220-1221	(	
7-25	1221-1222	a	
7-26	1223-1227	step	
7-27	1228-1231	S32	
7-28	1231-1232	)	
7-29	1232-1233	,	
7-30	1234-1241	thereby	
7-31	1242-1253	calculating	
7-32	1254-1266	acceleration	
7-33	1267-1269	in	
7-34	1270-1275	which	
7-35	1276-1279	the	
7-36	1280-1293	gravitational	
7-37	1294-1306	acceleration	
7-38	1307-1316	component	
7-39	1317-1319	is	
7-40	1320-1330	eliminated	
7-41	1331-1332	(	
7-42	1332-1334	to	
7-43	1335-1337	be	
7-44	1338-1345	precise	
7-45	1345-1346	,	
7-46	1347-1348	a	
7-47	1349-1355	change	
7-48	1356-1362	amount	
7-49	1363-1365	of	
7-50	1366-1378	acceleration	
7-51	1378-1379	)	
7-52	1379-1380	.	

#Text=Hereinafter, the calculated acceleration are referred to X-axis difference acceleration and Y-axis difference acceleration.
#Text=[0135] It is noted that the difference between the acceleration at four frames before and the latest acceleration is calculated at the step S32 in order to reduce an effect of noise (e.g. small acceleration unexpectedly generated by shake of a hand, and the like).
8-1	1381-1392	Hereinafter	
8-2	1392-1393	,	
8-3	1394-1397	the	
8-4	1398-1408	calculated	
8-5	1409-1421	acceleration	
8-6	1422-1425	are	
8-7	1426-1434	referred	
8-8	1435-1437	to	
8-9	1438-1444	X-axis	
8-10	1445-1455	difference	
8-11	1456-1468	acceleration	
8-12	1469-1472	and	
8-13	1473-1479	Y-axis	
8-14	1480-1490	difference	
8-15	1491-1503	acceleration	
8-16	1503-1504	.	
8-17	1505-1506	[	
8-18	1506-1510	0135	
8-19	1510-1511	]	
8-20	1512-1514	It	
8-21	1515-1517	is	
8-22	1518-1523	noted	
8-23	1524-1528	that	
8-24	1529-1532	the	
8-25	1533-1543	difference	
8-26	1544-1551	between	
8-27	1552-1555	the	
8-28	1556-1568	acceleration	
8-29	1569-1571	at	
8-30	1572-1576	four	
8-31	1577-1583	frames	
8-32	1584-1590	before	
8-33	1591-1594	and	
8-34	1595-1598	the	
8-35	1599-1605	latest	
8-36	1606-1618	acceleration	
8-37	1619-1621	is	
8-38	1622-1632	calculated	
8-39	1633-1635	at	
8-40	1636-1639	the	
8-41	1640-1644	step	
8-42	1645-1648	S32	
8-43	1649-1651	in	
8-44	1652-1657	order	
8-45	1658-1660	to	
8-46	1661-1667	reduce	
8-47	1668-1670	an	
8-48	1671-1677	effect	
8-49	1678-1680	of	
8-50	1681-1686	noise	
8-51	1687-1688	(	
8-52	1688-1691	e.g	
8-53	1691-1692	.	
8-54	1693-1698	small	
8-55	1699-1711	acceleration	
8-56	1712-1724	unexpectedly	
8-57	1725-1734	generated	
8-58	1735-1737	by	
8-59	1738-1743	shake	
8-60	1744-1746	of	
8-61	1747-1748	a	
8-62	1749-1753	hand	
8-63	1753-1754	,	
8-64	1755-1758	and	
8-65	1759-1762	the	
8-66	1763-1767	like	
8-67	1767-1768	)	
8-68	1768-1769	.	

#Text=In other words, only for eliminating the gravitational acceleration component, it is sufficient to calculate a difference between acceleration at one frame before and the latest acceleration.
9-1	1770-1772	In	
9-2	1773-1778	other	
9-3	1779-1784	words	
9-4	1784-1785	,	
9-5	1786-1790	only	
9-6	1791-1794	for	
9-7	1795-1806	eliminating	
9-8	1807-1810	the	
9-9	1811-1824	gravitational	
9-10	1825-1837	acceleration	
9-11	1838-1847	component	
9-12	1847-1848	,	
9-13	1849-1851	it	
9-14	1852-1854	is	
9-15	1855-1865	sufficient	
9-16	1866-1868	to	
9-17	1869-1878	calculate	
9-18	1879-1880	a	
9-19	1881-1891	difference	
9-20	1892-1899	between	
9-21	1900-1912	acceleration	
9-22	1913-1915	at	
9-23	1916-1919	one	
9-24	1920-1925	frame	
9-25	1926-1932	before	
9-26	1933-1936	and	
9-27	1937-1940	the	
9-28	1941-1947	latest	
9-29	1948-1960	acceleration	
9-30	1960-1961	.	

#Text=However, when the difference between acceleration at one frame before and the latest acceleration is calculated, it is susceptible to the effect of the above noise, so that difference acceleration in which slight shake of a hand and the like is reflected may be calculated.
10-1	1962-1969	However	
10-2	1969-1970	,	
10-3	1971-1975	when	
10-4	1976-1979	the	
10-5	1980-1990	difference	
10-6	1991-1998	between	
10-7	1999-2011	acceleration	
10-8	2012-2014	at	
10-9	2015-2018	one	
10-10	2019-2024	frame	
10-11	2025-2031	before	
10-12	2032-2035	and	
10-13	2036-2039	the	
10-14	2040-2046	latest	
10-15	2047-2059	acceleration	
10-16	2060-2062	is	
10-17	2063-2073	calculated	
10-18	2073-2074	,	
10-19	2075-2077	it	
10-20	2078-2080	is	
10-21	2081-2092	susceptible	
10-22	2093-2095	to	
10-23	2096-2099	the	
10-24	2100-2106	effect	
10-25	2107-2109	of	
10-26	2110-2113	the	
10-27	2114-2119	above	
10-28	2120-2125	noise	
10-29	2125-2126	,	
10-30	2127-2129	so	
10-31	2130-2134	that	
10-32	2135-2145	difference	
10-33	2146-2158	acceleration	
10-34	2159-2161	in	
10-35	2162-2167	which	
10-36	2168-2174	slight	
10-37	2175-2180	shake	
10-38	2181-2183	of	
10-39	2184-2185	a	
10-40	2186-2190	hand	
10-41	2191-2194	and	
10-42	2195-2198	the	
10-43	2199-2203	like	
10-44	2204-2206	is	
10-45	2207-2216	reflected	
10-46	2217-2220	may	
10-47	2221-2223	be	
10-48	2224-2234	calculated	
10-49	2234-2235	.	

#Text=Thus, in the present embodiment, in order to reduce the effect of such noise for calculating more accurate difference acceleration, a difference between the latest acceleration and the acceleration not at one frame before but at four frames before is calculated.
11-1	2236-2240	Thus	
11-2	2240-2241	,	
11-3	2242-2244	in	
11-4	2245-2248	the	
11-5	2249-2256	present	
11-6	2257-2267	embodiment	
11-7	2267-2268	,	
11-8	2269-2271	in	
11-9	2272-2277	order	
11-10	2278-2280	to	
11-11	2281-2287	reduce	
11-12	2288-2291	the	
11-13	2292-2298	effect	
11-14	2299-2301	of	
11-15	2302-2306	such	
11-16	2307-2312	noise	
11-17	2313-2316	for	
11-18	2317-2328	calculating	
11-19	2329-2333	more	
11-20	2334-2342	accurate	
11-21	2343-2353	difference	
11-22	2354-2366	acceleration	
11-23	2366-2367	,	
11-24	2368-2369	a	
11-25	2370-2380	difference	
11-26	2381-2388	between	
11-27	2389-2392	the	
11-28	2393-2399	latest	
11-29	2400-2412	acceleration	
11-30	2413-2416	and	
11-31	2417-2420	the	
11-32	2421-2433	acceleration	
11-33	2434-2437	not	
11-34	2438-2440	at	
11-35	2441-2444	one	
11-36	2445-2450	frame	
11-37	2451-2457	before	
11-38	2458-2461	but	
11-39	2462-2464	at	
11-40	2465-2469	four	
11-41	2470-2476	frames	
11-42	2477-2483	before	
11-43	2484-2486	is	
11-44	2487-2497	calculated	
11-45	2497-2498	.	

#Text=Further, a value of the acceleration at four frames before is not an absolute value.
12-1	2499-2506	Further	
12-2	2506-2507	,	
12-3	2508-2509	a	
12-4	2510-2515	value	
12-5	2516-2518	of	
12-6	2519-2522	the	
12-7	2523-2535	acceleration	
12-8	2536-2538	at	
12-9	2539-2543	four	
12-10	2544-2550	frames	
12-11	2551-2557	before	
12-12	2558-2560	is	
12-13	2561-2564	not	
12-14	2565-2567	an	
12-15	2568-2576	absolute	
12-16	2577-2582	value	
12-17	2582-2583	.	

#Text=The value is obtained as a most appropriate value by performing a simulation and the like using a real machine as appropriate.
13-1	2584-2587	The	
13-2	2588-2593	value	
13-3	2594-2596	is	
13-4	2597-2605	obtained	
13-5	2606-2608	as	
13-6	2609-2610	a	
13-7	2611-2615	most	
13-8	2616-2627	appropriate	
13-9	2628-2633	value	
13-10	2634-2636	by	
13-11	2637-2647	performing	
13-12	2648-2649	a	
13-13	2650-2660	simulation	
13-14	2661-2664	and	
13-15	2665-2668	the	
13-16	2669-2673	like	
13-17	2674-2679	using	
13-18	2680-2681	a	
13-19	2682-2686	real	
13-20	2687-2694	machine	
13-21	2695-2697	as	
13-22	2698-2709	appropriate	
13-23	2709-2710	.	

#Text=For that reason, for example, a most appropriate value may be adjusted as appropriate to be, for example, a value at three frames before or at five frames before depending on a characteristic of the acceleration sensor, and the like.
14-1	2711-2714	For	
14-2	2715-2719	that	
14-3	2720-2726	reason	
14-4	2726-2727	,	
14-5	2728-2731	for	
14-6	2732-2739	example	
14-7	2739-2740	,	
14-8	2741-2742	a	
14-9	2743-2747	most	
14-10	2748-2759	appropriate	
14-11	2760-2765	value	
14-12	2766-2769	may	
14-13	2770-2772	be	
14-14	2773-2781	adjusted	
14-15	2782-2784	as	
14-16	2785-2796	appropriate	
14-17	2797-2799	to	
14-18	2800-2802	be	
14-19	2802-2803	,	
14-20	2804-2807	for	
14-21	2808-2815	example	
14-22	2815-2816	,	
14-23	2817-2818	a	
14-24	2819-2824	value	
14-25	2825-2827	at	
14-26	2828-2833	three	
14-27	2834-2840	frames	
14-28	2841-2847	before	
14-29	2848-2850	or	
14-30	2851-2853	at	
14-31	2854-2858	five	
14-32	2859-2865	frames	
14-33	2866-2872	before	
14-34	2873-2882	depending	
14-35	2883-2885	on	
14-36	2886-2887	a	
14-37	2888-2902	characteristic	
14-38	2903-2905	of	
14-39	2906-2909	the	
14-40	2910-2922	acceleration	
14-41	2923-2929	sensor	
14-42	2929-2930	,	
14-43	2931-2934	and	
14-44	2935-2938	the	
14-45	2939-2943	like	
14-46	2943-2944	.	
